!function(e){e.fn.customSelect=function(t={}){return this.each((function(){let s=e.extend({},{search:!0,hover:!1,responsive:!0,checkboxes:!0,scrollToSelect:!0,closeAfterSelect:!1,beforeRenderList:e=>{},onSelect:(e,t)=>{}},t);f()&&(s.hover=!1,s.closeAfterSelect=!0);let l=e(this),i=l.find("option"),a=l.find("option:selected");"select"==l.next().attr("id")&&l.next().remove();let n=`\n            <div id="select" name="${l.attr("name")}">\n               <li class="down ${s.hover?"hover":""}">\n                  <span class="select-label">${l.find("option:selected").text()}</span>\n                  <ul class="select-menu">\n                     <div class="select-search">\n                        <div class="select-inline">\n                              <span class="select-close">Ã—</span>\n                        </div>\n                        <input type="text" name="select-search" placeholder="Search list" />\n                     </div>\n                     <ul class="select-list" />\n                  </ul>\n                  <div class="overlay" />\n               </li>\n            </div>\n         `;l.after(n);let r=l.next(),c=r.find(".select-label"),o=r.find(".select-menu"),d=r.find(".select-list"),v=r.find(".select-search"),h=o.find("[name=select-search]");function f(){return window.matchMedia("(max-width: 600px)").matches}function p(){let t=r,i=t.offset().top,a=e(window).height(),n=i+t.outerHeight()+25,c=e(window).scrollTop()-25,d=c+a,h=n>c&&i<d,p=i<d-o.outerHeight(),u=i>d-o.outerHeight();if(a<500?v.css("position","static"):v.css("position","sticky"),h){let e=r.find("li:first");p&&e.removeClass("up").addClass("down"),u&&r.find("li:first").removeClass("down").addClass("up")}else o.is(":visible")&&l.trigger("close");f()&&s.responsive&&o.addClass("responsive")}s.search&&h.on("keyup",(t=>{let s=e(t.currentTarget).val().toLowerCase();s.length<2&&d.find("li").show(),d.find("li").each(((t,l)=>{-1==e(l).text().toLowerCase().indexOf(s)?e(l).hide():e(l).show()}))})),i.each(((t,l)=>{let i=e(l);if(!i.attr("value"))return void v.find(".select-inline").prepend(`\n                  <span class="select-title">${i.text()}</p></span>\n               `);let a=`<li \n               ${i.attr("title")?`title="${i.text()}"`:""}\n               ${i.attr("value")?`data-value="${i.val()}"`:""}\n               ${i.is(":selected")||i.is(":disabled")?`class="${i.is(":selected")?"selected":"disabled"}"`:""}\n            />${s.checkboxes?`<span><p>${i.text()}</p></span>`:i.text()}`;if(s.beforeRenderList&&"function"==typeof s.beforeRenderList&&s.beforeRenderList.toString().includes("return")&&i.prop("value").length){let e=s.beforeRenderList.call(this,{id:i.index(),value:i.val(),text:i.text()});a=`<li \n                        ${i.attr("title")?`title="${i.text()}"`:""}\n                        ${i.attr("value")?`data-value="${i.val()}"`:""}\n                        ${i.is(":selected")||i.is(":disabled")?`class="${i.is(":selected")?"selected":"disabled"}"`:""}\n                     />${s.checkboxes?`<span><p>${e}</p></span>`:e}`}d.append(a)})),d.find("li").each(((t,n)=>{e(n).bind("click",(t=>{let n=e(t.currentTarget);if(!n.hasClass("disabled")){if(n.hasClass("selected")){return n.removeClass("selected"),i.first().prop("selected",!0),void c.text(a.text())}return d.find("li").removeClass("selected"),n.addClass("selected"),c.text(n.text()),l.val(n.data("value")?n.data("value"):n.text()),"function"==typeof s.onSelect?s.onSelect.call(this,r,{id:n.index(),value:n.data("value"),text:n.text()}):void 0}}))})),c.on(s.hover?"mouseover":"click",(t=>{let l=e(t.currentTarget).parent();if(s.hover?l.addClass("hover"):l.toggleClass("visible"),s.scrollToSelect){l.find(".selected").length>0&&o.scrollTop(l.find(".selected").get(0).offsetTop)}f()?s.responsive?(o.addClass("responsive"),e("body").addClass("select-overflow-hidden")):e("body").removeClass("select-overflow-hidden"):(p(),o.removeClass("responsive")),s.search||v.remove();let a=d.find("li:first");a.text()==i.first().text()&&a.hide()})),e(document).mouseup((t=>{o.is(":visible")||t.preventDefault();let i=o;s.hover?(s.closeAfterSelect&&(e("body").removeClass("select-overflow-hidden"),i.parent().removeClass("hover"),r.find("li:first").removeClass("visible")),h.val("").trigger("keyup")):s.closeAfterSelect?i.is(t.target)||"select-search"===e(t.target).attr("name")||"select-list"===e(t.target).attr("class")||"select-title"===e(t.target).attr("class")||e(t.target).hasClass("disabled")||e(t.target).hasClass("selected")||(e("body").removeClass("select-overflow-hidden"),r.find("li:first").removeClass("visible"),h.val("").trigger("keyup")):(i.is(t.target)||"select-search"===e(t.target).attr("name")||"select-list"===e(t.target).attr("class")||"select-title"===e(t.target).attr("class")||"LI"===e(t.target).prop("tagName")||"P"===e(t.target).prop("tagName")||"SPAN"===e(t.target).prop("tagName")||e(t.target).hasClass("disabled")||e(t.target).hasClass("selected"))&&!e(t.target).hasClass("select-close")||(e("body").removeClass("select-overflow-hidden"),r.find("li:first").removeClass("visible"),h.val("").trigger("keyup")),c.text()!=a.text()&&c.text(l.find("option:selected").text())})),l.on("change",(()=>{let t=e(this).val();d.find("li").each(((s,l)=>{t==e(l).data("value")&&e(l).click()}))})),l.on("deselect",(()=>{d.find("li:first").click()})),l.on("select",((t,s)=>{e(this).val(s),d.find("li").each(((t,l)=>{s==e(l).data("value")&&(e(l).hasClass("selected")||e(l).click())}))})),l.on("destroy",(()=>{"select"==e(this).next().attr("id")&&e(this).next().remove()})),l.on("rebuild",((t,l)=>{e(this).next().length||(l||(l=s),e(this).customSelect(l))})),l.on("close",((e,t)=>{o.is(":visible")&&c.click()})),l.on("open",(e=>{o.is(":hidden")&&(c.click(),e&&!f()&&r.get(0).scrollIntoView({behavior:"smooth",block:"nearest"}))})),e(window).on("resize scroll",p)}))}}(jQuery);